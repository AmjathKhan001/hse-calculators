<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PPE Selection Calculator | HSE Calculator</title>
    <meta name="description" content="Determine appropriate Personal Protective Equipment based on hazard assessment and workplace requirements.">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/calculator-styles.css">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DRRTSHLC01"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-DRRTSHLC01');
    </script>
    
    <!-- HTML2PDF for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <a href="../index.html" class="logo">
                    <img src="../assets/logo.png" alt="HSE Calculator Logo" class="logo-img">
                    <span>HSE Calculator</span>
                </a>
                
                <div class="nav-links" id="navLinks">
                    <a href="../index.html" class="nav-link"><i class="fas fa-home"></i> Home</a>
                    <a href="risk-assessment.html" class="nav-link active"><i class="fas fa-calculator"></i> Calculators</a>
                    <a href="../pages/products.html" class="nav-link"><i class="fas fa-shopping-bag"></i> Safety Products</a>
                    <a href="../pages/tools.html" class="nav-link"><i class="fas fa-tools"></i> Tools</a>
                    <a href="../pages/blog.html" class="nav-link"><i class="fas fa-blog"></i> Blog</a>
                    <a href="../index.html#contact" class="nav-link"><i class="fas fa-envelope"></i> Contact</a>
                </div>
                
                <div class="mobile-toggle" id="mobileToggle">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
        </div>
    </header>

    <!-- Calculator Content -->
    <section class="calculator-section">
        <div class="container">
            <h1 class="section-title">PPE Selection Calculator</h1>
            <p class="section-subtitle">Determine appropriate Personal Protective Equipment based on hazard assessment and workplace requirements.</p>
            
            <div class="calculator-form" id="ppe-calculator-form">
                <div class="form-group">
                    <h4>Hazard Assessment</h4>
                    <p class="form-text">Select all hazards present in the work environment:</p>
                    
                    <div class="hazard-checkboxes">
                        <div class="checkbox-row">
                            <label class="checkbox-label">
                                <input type="checkbox" name="hazards" value="impact" class="hazard-checkbox">
                                <span class="checkbox-text">Impact/Falling Objects</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="hazards" value="chemical" class="hazard-checkbox">
                                <span class="checkbox-text">Chemical Splash</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="hazards" value="heat" class="hazard-checkbox">
                                <span class="checkbox-text">Heat/Fire</span>
                            </label>
                        </div>
                        
                        <div class="checkbox-row">
                            <label class="checkbox-label">
                                <input type="checkbox" name="hazards" value="electrical" class="hazard-checkbox">
                                <span class="checkbox-text">Electrical Hazards</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="hazards" value="noise" class="hazard-checkbox">
                                <span class="checkbox-text">Noise Exposure</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="hazards" value="dust" class="hazard-checkbox">
                                <span class="checkbox-text">Dust/Particulates</span>
                            </label>
                        </div>
                        
                        <div class="checkbox-row">
                            <label class="checkbox-label">
                                <input type="checkbox" name="hazards" value="biological" class="hazard-checkbox">
                                <span class="checkbox-text">Biological Hazards</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="hazards" value="radiation" class="hazard-checkbox">
                                <span class="checkbox-text">Radiation</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="hazards" value="fall" class="hazard-checkbox">
                                <span class="checkbox-text">Fall Hazards</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="work-activity" class="form-label">Work Activity:</label>
                    <select id="work-activity" class="form-control" data-tooltip="Select the primary work activity">
                        <option value="welding">Welding/Cutting</option>
                        <option value="chemical-handling">Chemical Handling</option>
                        <option value="construction">Construction</option>
                        <option value="manufacturing">Manufacturing</option>
                        <option value="laboratory">Laboratory Work</option>
                        <option value="maintenance">Maintenance/Repair</option>
                        <option value="cleaning">Cleaning/Jantorial</option>
                        <option value="office">Office Work</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="exposure-level" class="form-label">Exposure Level:</label>
                    <select id="exposure-level" class="form-control" data-tooltip="Select the level of hazard exposure">
                        <option value="low">Low (Intermittent, Controlled)</option>
                        <option value="medium" selected>Medium (Regular, Some Controls)</option>
                        <option value="high">High (Continuous, Limited Controls)</option>
                        <option value="extreme">Extreme (Emergency, No Controls)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="work-duration" class="form-label">Work Duration:</label>
                    <select id="work-duration" class="form-control" data-tooltip="Select typical work duration">
                        <option value="short">Short-term (&lt; 2 hours)</option>
                        <option value="medium" selected>Medium (2-6 hours)</option>
                        <option value="long">Long-term (&gt; 6 hours)</option>
                        <option value="continuous">Continuous/Shift Work</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="environment-conditions" class="form-label">Environmental Conditions:</label>
                    <select id="environment-conditions" class="form-control" data-tooltip="Select environmental conditions">
                        <option value="indoor">Indoor/Controlled</option>
                        <option value="outdoor" selected>Outdoor</option>
                        <option value="confined">Confined Space</option>
                        <option value="hot">Hot Environment</option>
                        <option value="cold">Cold Environment</option>
                        <option value="wet">Wet/Humid</option>
                    </select>
                </div>
                
                <button id="calculate-ppe" class="btn btn-primary">
                    <i class="fas fa-hard-hat"></i> Determine PPE Requirements
                </button>
                
                <div id="ppe-result" class="result-box">
                    <h3>PPE Requirements</h3>
                    <div class="result-value" id="ppe-value"></div>
                    <div class="result-interpretation" id="ppe-interpretation"></div>
                    
                    <div class="ppe-recommendations mt-3" id="ppe-recommendations"></div>
                    
                    <div class="print-actions">
                        <button class="btn btn-primary print-btn" onclick="generatePDF('ppe-calculator-form', 'ppe-selection')">
                            <i class="fas fa-file-pdf"></i> Save as PDF
                        </button>
                        <button class="btn btn-secondary" onclick="window.print()">
                            <i class="fas fa-print"></i> Print
                        </button>
                    </div>
                </div>
                
                <div class="calculator-info mt-4">
                    <h4><i class="fas fa-info-circle"></i> How to Use This Calculator</h4>
                    <p>1. <strong>Hazard Assessment:</strong> Select all hazards present in the work environment.</p>
                    <p>2. <strong>Work Activity:</strong> Select the primary work activity being performed.</p>
                    <p>3. <strong>Exposure Level:</strong> Determine the level of hazard exposure.</p>
                    <p>4. <strong>Calculation:</strong> The calculator determines required PPE based on OSHA and ANSI standards.</p>
                    
                    <h5 class="mt-3">PPE Hierarchy of Controls</h5>
                    <table class="risk-matrix">
                        <thead>
                            <tr>
                                <th>Control Level</th>
                                <th>Method</th>
                                <th>Effectiveness</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1. Elimination</td>
                                <td>Remove Hazard</td>
                                <td>Most Effective</td>
                                <td>Use less toxic chemical</td>
                            </tr>
                            <tr>
                                <td>2. Substitution</td>
                                <td>Replace Hazard</td>
                                <td>Very Effective</td>
                                <td>Use water-based instead of solvent-based</td>
                            </tr>
                            <tr>
                                <td>3. Engineering</td>
                                <td>Isolate Hazard</td>
                                <td>Effective</td>
                                <td>Ventilation systems, machine guards</td>
                            </tr>
                            <tr>
                                <td>4. Administrative</td>
                                <td>Change Procedures</td>
                                <td>Moderately Effective</td>
                                <td>Training, job rotation, warnings</td>
                            </tr>
                            <tr>
                                <td>5. PPE</td>
                                <td>Protect Worker</td>
                                <td>Least Effective</td>
                                <td>Safety glasses, gloves, respirators</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Social Sharing -->
            <div class="social-sharing mt-4">
                <div class="social-card">
                    <h3>Share This Calculator</h3>
                    <p>Help other safety professionals discover this tool</p>
                    <div class="social-buttons">
                        <a href="#" class="social-btn facebook" onclick="shareCalculator('PPE Selection Calculator').facebook()">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-btn twitter" onclick="shareCalculator('PPE Selection Calculator').twitter()">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-btn linkedin" onclick="shareCalculator('PPE Selection Calculator').linkedin()">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="#" class="social-btn whatsapp" onclick="shareCalculator('PPE Selection Calculator').whatsapp()">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Related Calculators -->
            <div class="related-calculators mt-4">
                <h3 class="section-title">Related Calculators</h3>
                <div class="calculators-grid">
                    <div class="calculator-card">
                        <div class="calculator-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="calculator-content">
                            <h3>Risk Assessment Calculator</h3>
                            <p>Calculate risk levels based on probability and severity to prioritize safety measures.</p>
                            <a href="risk-assessment.html" class="btn btn-primary btn-small">
                                <i class="fas fa-play-circle"></i> Use Calculator
                            </a>
                        </div>
                    </div>
                    
                    <div class="calculator-card">
                        <div class="calculator-icon">
                            <i class="fas fa-skull-crossbones"></i>
                        </div>
                        <div class="calculator-content">
                            <h3>Chemical Exposure Calculator</h3>
                            <p>Calculate chemical exposure levels and assess workplace compliance.</p>
                            <a href="chemical-exposure.html" class="btn btn-primary btn-small">
                                <i class="fas fa-play-circle"></i> Use Calculator
                            </a>
                        </div>
                    </div>
                    
                    <div class="calculator-card">
                        <div class="calculator-icon">
                            <i class="fas fa-mountain"></i>
                        </div>
                        <div class="calculator-content">
                            <h3>Fall Protection Calculator</h3>
                            <p>Calculate fall distances, clearance requirements, and anchor point strength.</p>
                            <a href="fall-protection.html" class="btn btn-primary btn-small">
                                <i class="fas fa-play-circle"></i> Use Calculator
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <a href="../index.html" class="footer-logo">
                        <img src="../assets/logo.png" alt="HSE Calculator Logo" class="logo-img">
                        <span>HSE Calculator</span>
                    </a>
                    <p>Professional tools for health, safety, and environment professionals.</p>
                    <div class="footer-social">
                        <a href="https://www.facebook.com/Amjathkhan.s" target="_blank"><i class="fab fa-facebook"></i></a>
                        <a href="https://x.com/amjikhan" target="_blank"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.instagram.com/amjathkhan_official/" target="_blank"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.linkedin.com/in/amjathkhan-shiekusman/" target="_blank"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
                
                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="risk-assessment.html">Calculators</a></li>
                        <li><a href="../pages/products.html">Safety Products</a></li>
                        <li><a href="../pages/tools.html">Tools</a></li>
                        <li><a href="../pages/blog.html">Blog</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="../pages/privacy.html">Privacy Policy</a></li>
                        <li><a href="../pages/terms.html">Terms of Use</a></li>
                        <li><a href="../pages/affiliate-disclosure.html">Affiliate Disclosure</a></li>
                        <li><a href="../pages/sitemap.html">Sitemap</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h4>Contact Us</h4>
                    <ul class="contact-info">
                        <li><i class="fas fa-envelope"></i> <a href="mailto:contact@amjathkhan.com">contact@amjathkhan.com</a></li>
                        <li><i class="fas fa-phone"></i> <a href="tel:+919750816163">+91-9750816163</a></li>
                        <li><i class="fas fa-globe"></i> <a href="https://www.amjathkhan.com/" target="_blank">www.amjathkhan.com</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 HSE Calculator. All rights reserved.</p>
                <p>Professional tools for workplace safety and compliance</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="../js/main.js"></script>
    <script src="../js/calculators.js"></script>
    
    <script>
        // PPE Selection Calculator specific logic
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('calculate-ppe').addEventListener('click', calculatePPERequirements);
        });
        
        function calculatePPERequirements() {
            // Get selected hazards
            const hazardCheckboxes = document.querySelectorAll('.hazard-checkbox:checked');
            const selectedHazards = Array.from(hazardCheckboxes).map(cb => cb.value);
            
            // Get other inputs
            const workActivity = document.getElementById('work-activity').value;
            const exposureLevel = document.getElementById('exposure-level').value;
            const workDuration = document.getElementById('work-duration').value;
            const environmentConditions = document.getElementById('environment-conditions').value;
            
            // Validate at least one hazard selected
            if (selectedHazards.length === 0) {
                alert('Please select at least one hazard from the hazard assessment.');
                return;
            }
            
            // Determine required PPE based on hazards
            const ppeRequirements = {
                head: [],
                eyes: [],
                hearing: [],
                respiratory: [],
                hands: [],
                body: [],
                feet: [],
                fall: []
            };
            
            // Head Protection
            if (selectedHazards.includes('impact') || workActivity === 'construction' || 
                workActivity === 'manufacturing' || workActivity === 'maintenance') {
                ppeRequirements.head.push({
                    item: 'Hard Hat',
                    type: 'Type I (top impact)',
                    class: exposureLevel === 'high' || exposureLevel === 'extreme' ? 'Class E (Electrical)' : 'Class G (General)',
                    standard: 'ANSI/ISEA Z89.1',
                    notes: 'Replace after any significant impact or every 5 years'
                });
            }
            
            // Eye Protection
            if (selectedHazards.includes('impact') || selectedHazards.includes('chemical') || 
                selectedHazards.includes('dust') || workActivity === 'welding' || 
                workActivity === 'chemical-handling') {
                
                let eyeProtection = {
                    item: 'Safety Glasses',
                    type: 'Basic Impact',
                    standard: 'ANSI Z87.1',
                    notes: 'Side shields required for side impact hazards'
                };
                
                if (selectedHazards.includes('chemical')) {
                    eyeProtection = {
                        item: 'Chemical Goggles',
                        type: 'Splash-proof',
                        standard: 'ANSI Z87.1 D3',
                        notes: 'Indirect venting recommended for chemical splash'
                    };
                }
                
                if (workActivity === 'welding') {
                    eyeProtection = {
                        item: 'Welding Helmet/Goggles',
                        type: 'Auto-darkening filter',
                        standard: 'ANSI Z87.1, Z49.1',
                        notes: `Shade ${exposureLevel === 'high' ? '10-14' : '9-13'} depending on welding process`
                    };
                }
                
                ppeRequirements.eyes.push(eyeProtection);
            }
            
            // Hearing Protection
            if (selectedHazards.includes('noise')) {
                let nrr = 25; // Noise Reduction Rating
                if (exposureLevel === 'high') nrr = 30;
                if (exposureLevel === 'extreme') nrr = 33;
                
                ppeRequirements.hearing.push({
                    item: workDuration === 'long' || workDuration === 'continuous' ? 'Ear Muffs' : 'Ear Plugs',
                    type: workDuration === 'long' || workDuration === 'continuous' ? 'Electronic/Communicating' : 'Disposable Foam',
                    class: `NRR ${nrr} dB`,
                    standard: 'ANSI S3.19',
                    notes: 'Fit testing recommended for optimal protection'
                });
            }
            
            // Respiratory Protection
            if (selectedHazards.includes('dust') || selectedHazards.includes('chemical') || 
                selectedHazards.includes('biological') || selectedHazards.includes('fumes')) {
                
                let respiratorType = 'N95 Particulate Respirator';
                let filterClass = 'N95';
                
                if (selectedHazards.includes('chemical') || selectedHazards.includes('fumes')) {
                    respiratorType = 'Half-face Respirator with Cartridges';
                    filterClass = exposureLevel === 'high' ? 'OV/AG/P100' : 'OV/AG';
                }
                
                if (exposureLevel === 'extreme' || selectedHazards.includes('biological')) {
                    respiratorType = 'Powered Air Purifying Respirator (PAPR)';
                    filterClass = 'HEPA';
                }
                
                ppeRequirements.respiratory.push({
                    item: respiratorType,
                    type: filterClass,
                    standard: 'NIOSH 42 CFR Part 84',
                    notes: 'Medical evaluation and fit testing required'
                });
            }
            
            // Hand Protection
            if (selectedHazards.includes('chemical') || selectedHazards.includes('heat') || 
                selectedHazards.includes('impact') || workActivity !== 'office') {
                
                let gloveType = 'General Purpose';
                let material = 'Leather/Nitrile';
                
                if (selectedHazards.includes('chemical')) {
                    gloveType = 'Chemical Resistant';
                    material = exposureLevel === 'high' ? 'Butyl/Viton' : 'Nitrile/Neoprene';
                }
                
                if (selectedHazards.includes('heat')) {
                    gloveType = 'Heat Resistant';
                    material = exposureLevel === 'high' ? 'Aluminized/Kevlar' : 'Leather';
                }
                
                if (selectedHazards.includes('cut')) {
                    gloveType = 'Cut Resistant';
                    material = 'Kevlar/Stainless Steel Mesh';
                }
                
                ppeRequirements.hands.push({
                    item: 'Safety Gloves',
                    type: gloveType,
                    material: material,
                    standard: 'ANSI/ISEA 105',
                    notes: 'Check chemical compatibility for chemical hazards'
                });
            }
            
            // Body Protection
            if (selectedHazards.includes('chemical') || selectedHazards.includes('heat') || 
                workActivity === 'welding' || workActivity === 'chemical-handling') {
                
                let bodyProtection = 'Lab Coat/Coveralls';
                
                if (selectedHazards.includes('chemical') && exposureLevel === 'high') {
                    bodyProtection = 'Chemical Splash Suit';
                }
                
                if (selectedHazards.includes('heat') || workActivity === 'welding') {
                    bodyProtection = 'Fire-Resistant Clothing (FRC)';
                }
                
                ppeRequirements.body.push({
                    item: bodyProtection,
                    type: environmentConditions === 'hot' ? 'Lightweight/Cooling' : 'Standard',
                    material: selectedHazards.includes('chemical') ? 'Tychem/Tyvek' : 'Cotton/FR',
                    standard: 'NFPA 2112 (FR), NFPA 1991 (Chemical)',
                    notes: 'Ensure proper fit and coverage'
                });
            }
            
            // Foot Protection
            if (selectedHazards.includes('impact') || selectedHazards.includes('electrical') || 
                workActivity !== 'office') {
                
                let footProtection = 'Safety Toe Shoes';
                let protection = 'Steel/Composite Toe';
                
                if (selectedHazards.includes('electrical')) {
                    protection = 'Electrical Hazard (EH) Rated';
                }
                
                if (selectedHazards.includes('chemical')) {
                    protection = 'Chemical Resistant/Waterproof';
                }
                
                ppeRequirements.feet.push({
                    item: footProtection,
                    type: protection,
                    standard: 'ASTM F2413',
                    notes: 'Replace when soles are worn or damaged'
                });
            }
            
            // Fall Protection
            if (selectedHazards.includes('fall') || workActivity === 'construction' || 
                environmentConditions === 'confined') {
                
                ppeRequirements.fall.push({
                    item: 'Full Body Harness',
                    type: exposureLevel === 'high' ? 'Retractable Lifeline' : 'Shock-absorbing Lanyard',
                    class: 'ANSI Z359.11',
                    capacity: '310 lbs',
                    standard: 'OSHA 1926.502',
                    notes: 'Anchor point must support 5,000 lbs'
                });
            }
            
            // Special PPE based on environment
            if (environmentConditions === 'hot') {
                ppeRequirements.body.push({
                    item: 'Cooling Vest',
                    type: 'Phase Change or Evaporative',
                    notes: 'Required for work in temperatures above 90Â°F'
                });
            }
            
            if (environmentConditions === 'cold') {
                ppeRequirements.body.push({
                    item: 'Insulated Clothing',
                    type: 'Layered System',
                    notes: 'Monitor for hypothermia symptoms'
                });
            }
            
            // Display results
            let totalPPEItems = 0;
            Object.keys(ppeRequirements).forEach(category => {
                totalPPEItems += ppeRequirements[category].length;
            });
            
            document.getElementById('ppe-value').innerHTML = `
                <div class="result-item">
                    <strong>Total Required PPE Items:</strong> ${totalPPEItems}
                </div>
                <div class="result-item">
                    <strong>Hazards Identified:</strong> ${selectedHazards.length}
                </div>
                <div class="result-item">
                    <strong>Exposure Level:</strong> ${exposureLevel.charAt(0).toUpperCase() + exposureLevel.slice(1)}
                </div>
                <div class="result-item">
                    <strong>Work Activity:</strong> ${document.getElementById('work-activity').options[document.getElementById('work-activity').selectedIndex].text}
                </div>
            `;
            
            document.getElementById('ppe-interpretation').innerHTML = `
                <p><strong>Assessment:</strong> Based on your hazard assessment, the following PPE is required to ensure worker safety.</p>
                <p><strong>Important:</strong> All PPE must be properly fitted, maintained, and workers trained in its use.</p>
            `;
            
            // Display PPE recommendations in a structured format
            let recommendationsHTML = '<div class="ppe-categories">';
            
            Object.keys(ppeRequirements).forEach(category => {
                if (ppeRequirements[category].length > 0) {
                    const categoryName = category.charAt(0).toUpperCase() + category.slice(1) + ' Protection';
                    recommendationsHTML += `
                        <div class="ppe-category">
                            <h5>${categoryName}</h5>
                            <div class="ppe-items">
                    `;
                    
                    ppeRequirements[category].forEach(item => {
                        recommendationsHTML += `
                            <div class="ppe-item">
                                <div class="ppe-item-title">${item.item}</div>
                                <div class="ppe-item-details">
                                    ${item.type ? `<div><strong>Type:</strong> ${item.type}</div>` : ''}
                                    ${item.material ? `<div><strong>Material:</strong> ${item.material}</div>` : ''}
                                    ${item.class ? `<div><strong>Class:</strong> ${item.class}</div>` : ''}
                                    ${item.standard ? `<div><strong>Standard:</strong> ${item.standard}</div>` : ''}
                                    ${item.notes ? `<div><strong>Notes:</strong> ${item.notes}</div>` : ''}
                                </div>
                            </div>
                        `;
                    });
                    
                    recommendationsHTML += `
                            </div>
                        </div>
                    `;
                }
            });
            
            recommendationsHTML += '</div>';
            document.getElementById('ppe-recommendations').innerHTML = recommendationsHTML;
            
            document.getElementById('ppe-result').classList.add('active');
        }
        
        function generatePDF(elementId, filename) {
            const element = document.getElementById(elementId);
            
            const opt = {
                margin: 1,
                filename: `${filename}-${new Date().getTime()}.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
            };
            
            html2pdf().set(opt).from(element).save();
        }
        
        function shareCalculator(title) {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent(`${title} - Professional HSE Tool`);
            
            return {
                facebook: () => window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank'),
                twitter: () => window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank'),
                linkedin: () => window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${url}`, '_blank'),
                whatsapp: () => window.open(`https://api.whatsapp.com/send?text=${text}: ${url}`, '_blank')
            };
        }
    </script>
    
    <style>
        .hazard-checkboxes {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        .checkbox-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .checkbox-row:last-child {
            margin-bottom: 0;
        }
        
        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            flex: 1;
            min-width: 200px;
        }
        
        .checkbox-text {
            font-weight: 500;
            color: #2c3e50;
        }
        
        .ppe-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .ppe-category {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .ppe-category h5 {
            color: #3498db;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f8f9fa;
        }
        
        .ppe-items {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .ppe-item {
            background: #f8f9fa;
            border-radius: 6px;
            padding: 15px;
            border-left: 4px solid #3498db;
        }
        
        .ppe-item-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .ppe-item-details div {
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .ppe-item-details strong {
            color: #34495e;
            min-width: 70px;
            display: inline-block;
        }
    </style>
</body>
</html>
