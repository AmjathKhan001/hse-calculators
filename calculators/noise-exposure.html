<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Noise Exposure Calculator | HSE Calculator</title>
    <meta name="description" content="Calculate daily noise exposure levels and assess compliance with occupational noise limits.">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/calculator.css">
    <link rel="stylesheet" href="css/utilities.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DRRTSHLC01"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-DRRTSHLC01');
    </script>
    
    <!-- HTML2PDF for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
    <!-- Header (Same as risk-assessment.html) -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <a href="../index.html" class="logo">
                    <img src="../assets/logo.png" alt="HSE Calculator Logo" class="logo-img">
                    <span>HSE Calculator</span>
                </a>
                
                <div class="nav-links" id="navLinks">
                    <a href="../index.html" class="nav-link"><i class="fas fa-home"></i> Home</a>
                    <a href="risk-assessment.html" class="nav-link active"><i class="fas fa-calculator"></i> Calculators</a>
                    <a href="../pages/products.html" class="nav-link"><i class="fas fa-shopping-bag"></i> Safety Products</a>
                    <a href="../pages/tools.html" class="nav-link"><i class="fas fa-tools"></i> Tools</a>
                    <a href="../pages/blog.html" class="nav-link"><i class="fas fa-blog"></i> Blog</a>
                    <a href="../index.html#contact" class="nav-link"><i class="fas fa-envelope"></i> Contact</a>
                </div>
                
                <div class="mobile-toggle" id="mobileToggle">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
        </div>
    </header>

    <!-- Calculator Content -->
    <section class="calculator-section">
        <div class="container">
            <h1 class="section-title">Noise Exposure Calculator</h1>
            <p class="section-subtitle">Calculate daily noise exposure levels and assess compliance with occupational noise limits.</p>
            
            <div class="calculator-form" id="noise-calculator-form">
                <div class="form-group">
                    <label for="noise-level" class="form-label">Noise Level (dB):</label>
                    <input type="number" id="noise-level" class="form-control" min="70" max="130" value="85" 
                           data-tooltip="Enter the average noise level in decibels">
                    <small class="form-text">Typical range: 70-130 dB. OSHA PEL is 90 dB for 8 hours.</small>
                </div>
                
                <div class="form-group">
                    <label for="exposure-time" class="form-label">Exposure Time (hours):</label>
                    <input type="number" id="exposure-time" class="form-control" min="0.5" max="12" step="0.5" value="8" 
                           data-tooltip="Enter daily exposure duration in hours">
                    <small class="form-text">Enter time spent in the noise environment per day</small>
                </div>
                
                <div class="form-group">
                    <label for="noise-type" class="form-label">Noise Type:</label>
                    <select id="noise-type" class="form-control" data-tooltip="Select the type of noise exposure">
                        <option value="continuous">Continuous/Steady-state</option>
                        <option value="impact">Impact/Impulse</option>
                        <option value="intermittent">Intermittent</option>
                    </select>
                </div>
                
                <button id="calculate-noise" class="btn btn-primary">
                    <i class="fas fa-volume-up"></i> Calculate Noise Exposure
                </button>
                
                <div id="noise-result" class="result-box">
                    <h3>Noise Exposure Result</h3>
                    <div class="result-value" id="noise-value"></div>
                    <div class="result-interpretation" id="noise-interpretation"></div>
                    
                    <div class="exposure-details mt-3" id="exposure-details"></div>
                    
                    <div class="print-actions">
                        <button class="btn btn-primary print-btn" onclick="generatePDF('noise-calculator-form', 'noise-exposure')">
                            <i class="fas fa-file-pdf"></i> Save as PDF
                        </button>
                        <button class="btn btn-secondary" onclick="window.print()">
                            <i class="fas fa-print"></i> Print
                        </button>
                    </div>
                </div>
                
                <div class="calculator-info mt-4">
                    <h4><i class="fas fa-info-circle"></i> How to Use This Calculator</h4>
                    <p>1. <strong>Noise Level:</strong> Enter the average sound pressure level in decibels (dB).</p>
                    <p>2. <strong>Exposure Time:</strong> Enter the duration of exposure in hours.</p>
                    <p>3. <strong>Noise Type:</strong> Select the characteristic of the noise.</p>
                    <p>4. <strong>Calculation:</strong> The calculator determines the daily noise dose and compliance status.</p>
                    
                    <h5 class="mt-3">Noise Exposure Limits</h5>
                    <table class="risk-matrix">
                        <thead>
                            <tr>
                                <th>Standard</th>
                                <th>Limit (8 hours)</th>
                                <th>Action Level</th>
                                <th>Doubling Rate</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>OSHA PEL</td>
                                <td>90 dB</td>
                                <td>85 dB</td>
                                <td>5 dB</td>
                            </tr>
                            <tr>
                                <td>NIOSH REL</td>
                                <td>85 dB</td>
                                <td>82 dB</td>
                                <td>3 dB</td>
                            </tr>
                            <tr>
                                <td>EU Directive</td>
                                <td>87 dB</td>
                                <td>85 dB</td>
                                <td>3 dB</td>
                            </tr>
                            <tr>
                                <td>ACGIH TLV</td>
                                <td>85 dB</td>
                                <td>80 dB</td>
                                <td>3 dB</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Social Sharing -->
            <div class="social-sharing mt-4">
                <div class="social-card">
                    <h3>Share This Calculator</h3>
                    <p>Help other safety professionals discover this tool</p>
                    <div class="social-buttons">
                        <a href="#" class="social-btn facebook" onclick="shareCalculator('Noise Exposure Calculator').facebook()">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-btn twitter" onclick="shareCalculator('Noise Exposure Calculator').twitter()">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-btn linkedin" onclick="shareCalculator('Noise Exposure Calculator').linkedin()">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="#" class="social-btn whatsapp" onclick="shareCalculator('Noise Exposure Calculator').whatsapp()">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Related Calculators -->
            <div class="related-calculators mt-4">
                <h3 class="section-title">Related Calculators</h3>
                <div class="calculators-grid">
                    <div class="calculator-card">
                        <div class="calculator-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="calculator-content">
                            <h3>Risk Assessment Calculator</h3>
                            <p>Calculate risk levels based on probability and severity to prioritize safety measures.</p>
                            <a href="risk-assessment.html" class="btn btn-primary btn-small">
                                <i class="fas fa-play-circle"></i> Use Calculator
                            </a>
                        </div>
                    </div>
                    
                    <div class="calculator-card">
                        <div class="calculator-icon">
                            <i class="fas fa-skull-crossbones"></i>
                        </div>
                        <div class="calculator-content">
                            <h3>Chemical Exposure Calculator</h3>
                            <p>Calculate chemical exposure levels and assess workplace compliance.</p>
                            <a href="chemical-exposure.html" class="btn btn-primary btn-small">
                                <i class="fas fa-play-circle"></i> Use Calculator
                            </a>
                        </div>
                    </div>
                    
                    <div class="calculator-card">
                        <div class="calculator-icon">
                            <i class="fas fa-temperature-high"></i>
                        </div>
                        <div class="calculator-content">
                            <h3>Heat Stress Calculator</h3>
                            <p>Assess heat stress risk based on temperature, humidity, and work intensity.</p>
                            <a href="heat-stress.html" class="btn btn-primary btn-small">
                                <i class="fas fa-play-circle"></i> Use Calculator
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer (Same as risk-assessment.html) -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <a href="../index.html" class="footer-logo">
                        <img src="../assets/logo.png" alt="HSE Calculator Logo" class="logo-img">
                        <span>HSE Calculator</span>
                    </a>
                    <p>Professional tools for health, safety, and environment professionals.</p>
                    <div class="footer-social">
                        <a href="https://www.facebook.com/Amjathkhan.s" target="_blank"><i class="fab fa-facebook"></i></a>
                        <a href="https://x.com/amjikhan" target="_blank"><i class="fab fa-twitter"></i></a>
                        <a href="https://www.instagram.com/amjathkhan_official/" target="_blank"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.linkedin.com/in/amjathkhan-shiekusman/" target="_blank"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
                
                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="risk-assessment.html">Calculators</a></li>
                        <li><a href="../pages/products.html">Safety Products</a></li>
                        <li><a href="../pages/tools.html">Tools</a></li>
                        <li><a href="../pages/blog.html">Blog</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="../pages/privacy.html">Privacy Policy</a></li>
                        <li><a href="../pages/terms.html">Terms of Use</a></li>
                        <li><a href="../pages/affiliate-disclosure.html">Affiliate Disclosure</a></li>
                        <li><a href="../pages/sitemap.html">Sitemap</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h4>Contact Us</h4>
                    <ul class="contact-info">
                        <li><i class="fas fa-envelope"></i> <a href="mailto:contact@amjathkhan.com">contact@amjathkhan.com</a></li>
                        <li><i class="fas fa-phone"></i> <a href="tel:+919750816163">+91-9750816163</a></li>
                        <li><i class="fas fa-globe"></i> <a href="https://www.amjathkhan.com/" target="_blank">www.amjathkhan.com</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 HSE Calculator. All rights reserved.</p>
                <p>Professional tools for workplace safety and compliance</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="../js/main.js"></script>
    <script src="../js/calculators.js"></script>
    
    <script>
        // Noise Exposure Calculator specific logic
        function initNoiseExposureCalculator() {
            document.getElementById('calculate-noise').addEventListener('click', calculateNoiseExposure);
        }
        
        function calculateNoiseExposure() {
            const noiseLevel = validateNumberInput(document.getElementById('noise-level'), 70, 130);
            const exposureTime = validateNumberInput(document.getElementById('exposure-time'), 0.5, 12);
            const noiseType = document.getElementById('noise-type').value;
            
            if (noiseLevel === null || exposureTime === null) {
                alert('Please enter valid values for noise level (70-130 dB) and exposure time (0.5-12 hours).');
                return;
            }
            
            // Calculate noise dose (simplified formula)
            // OSHA formula: Dose = 100 * (C1/T1 + C2/T2 + ... + Cn/Tn)
            // Where T = 8 / 2^((L-90)/5)
            const oshaTLV = 90; // OSHA 8-hour TWA PEL
            const doublingRate = 5; // OSHA doubling rate
            const allowedExposureTime = 8 / Math.pow(2, (noiseLevel - oshaTLV) / doublingRate);
            
            let noiseDose = 0;
            if (allowedExposureTime > 0) {
                noiseDose = (exposureTime / allowedExposureTime) * 100;
            }
            
            // NIOSH REL calculation
            const nioshTLV = 85;
            const nioshDoublingRate = 3;
            const nioshAllowedTime = 8 / Math.pow(2, (noiseLevel - nioshTLV) / nioshDoublingRate);
            let nioshDose = 0;
            if (nioshAllowedTime > 0) {
                nioshDose = (exposureTime / nioshAllowedTime) * 100;
            }
            
            // Determine compliance status
            let complianceStatus = '';
            let interpretation = '';
            let actionRequired = '';
            
            if (noiseDose <= 50) {
                complianceStatus = 'Compliant';
                interpretation = 'Within acceptable limits';
                actionRequired = 'Routine monitoring recommended';
            } else if (noiseDose <= 100) {
                complianceStatus = 'Action Level Exceeded';
                interpretation = 'Above action level, below PEL';
                actionRequired = 'Implement hearing conservation program';
            } else {
                complianceStatus = 'Non-Compliant';
                interpretation = 'Exceeds permissible exposure limit (PEL)';
                actionRequired = 'Immediate engineering/administrative controls required';
            }
            
            // Display results
            document.getElementById('noise-value').innerHTML = `
                <div class="result-item">
                    <strong>Noise Dose (OSHA):</strong> ${noiseDose.toFixed(1)}%
                </div>
                <div class="result-item">
                    <strong>Compliance Status:</strong> <span class="status-${complianceStatus.toLowerCase().replace(' ', '-')}">${complianceStatus}</span>
                </div>
                <div class="result-item">
                    <strong>Noise Type:</strong> ${noiseType.charAt(0).toUpperCase() + noiseType.slice(1)}
                </div>
            `;
            
            document.getElementById('noise-interpretation').innerHTML = `
                <p><strong>Interpretation:</strong> ${interpretation}</p>
                <p><strong>Action Required:</strong> ${actionRequired}</p>
            `;
            
            // Show exposure details
            document.getElementById('exposure-details').innerHTML = `
                <div class="exposure-table">
                    <table class="result-table">
                        <thead>
                            <tr>
                                <th>Standard</th>
                                <th>Exposure Limit</th>
                                <th>Allowed Time</th>
                                <th>Calculated Dose</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>OSHA PEL (90 dB)</td>
                                <td>90 dB for 8 hours</td>
                                <td>${allowedExposureTime.toFixed(2)} hours</td>
                                <td>${noiseDose.toFixed(1)}%</td>
                            </tr>
                            <tr>
                                <td>NIOSH REL (85 dB)</td>
                                <td>85 dB for 8 hours</td>
                                <td>${nioshAllowedTime.toFixed(2)} hours</td>
                                <td>${nioshDose.toFixed(1)}%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            `;
            
            document.getElementById('noise-result').classList.add('active');
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initNoiseExposureCalculator();
        });
    </script>
</body>
</html>
